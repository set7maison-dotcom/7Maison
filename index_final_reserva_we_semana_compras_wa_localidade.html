<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>7Maison</title>
  <meta name="description" content="Cada refeição deve ser um momento de bem-estar. Ganhe tempo para o que realmente importa: chegar a casa, relaxar e desfrutar.">
  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Fontes Luxuosas -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Poppins:wght@300;400;500&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Poppins', sans-serif; color: #222; }
    h1, h2, h3 { font-family: 'Playfair Display', serif; letter-spacing: 0.5px; }
    h1 { font-size: 3rem; font-weight: 700; }
    h2 { font-size: 2.2rem; font-weight: 600; }
    h3 { font-size: 1.5rem; font-weight: 600; }
    p, li { font-size: 1.05rem; line-height: 1.8; }
    .parallax { background-attachment: fixed; background-position: center; background-repeat: no-repeat; background-size: cover; }
    @keyframes fadeInUp { from { opacity: 0; transform: translateY(20px);} to {opacity:1; transform: translateY(0);} }
    .fade-up { animation: fadeInUp 1s ease forwards; opacity: 0; }
    .zoom-hover img { transition: transform 0.5s ease; }
    .zoom-hover img:hover { transform: scale(1.05); }
  </style>
</head>
<body class="bg-white text-gray-900">

  <!-- Hero com parallax -->
  <section class="relative h-screen flex items-center justify-center text-white parallax" style="background-image: url('images/foto-capa.jpg');">
    <div class="absolute inset-0 bg-black/50"></div>
    <div class="relative z-10 text-center px-6 fade-up" style="animation-delay: 0.3s;">
      <h1>7Maison</h1>
      <p class="text-lg mb-6">Liberte-se da rotina de cozinhar.<br>Descubra o prazer de chegar a casa e apenas desfrutar.</p>
      <a href="#reserva" class="bg-[#cfa86e] text-black px-6 py-3 rounded-full text-lg hover:scale-105 hover:shadow-lg transition transform">Reservar Agora</a>
    </div>
  </section>

  <!-- Sobre -->
  <section id="sobre" class="py-20 max-w-5xl mx-auto text-center fade-up" style="animation-delay: 0.2s;">
    <h2>Sobre Mim</h2>
    <p class="mt-6">
      Cada refeição deve ser um momento de bem-estar.<br>
      Ganhe tempo para o que REALMENTE importa: chegar a casa, relaxar e desfrutar.
    </p>
  </section>

  <!-- Serviços -->
  <section id="servicos" class="py-20 bg-gray-50 fade-up" style="animation-delay: 0.3s;">
    <div class="max-w-6xl mx-auto text-center">
      <h2>Serviços</h2>
      <div class="grid md:grid-cols-2 gap-12 mt-12">
        <div>
          <h3>Refeições do Dia-a-Dia</h3>
          <p>Para que a sua rotina seja mais leve e prática.</p>
        </div>
        <div>
          <h3>Cozinha Personalizada</h3>
          <p>Cada prato é adaptado ao seu gosto, preferências e estilo de vida.</p>
        </div>
      </div>
    </div>
  </section>

  
  
  <!-- Galeria -->
  <section id="galeria" class="py-16 bg-gray-50">
    <div class="max-w-6xl mx-auto px-6">
      <h2 class="text-3xl font-bold text-center mb-12">Galeria</h2>
      <div class="grid grid-cols-3 gap-6 text-center">
        
        <!-- Refeições Diárias -->
        <div>
          <div class="w-32 h-32 mx-auto rounded-full bg-gray-200 flex items-center justify-center shadow-md cursor-pointer"
               onclick="openLightbox('refeicoes')">
            <span class="text-gray-500">+</span>
          </div>
          <h3 class="mt-6 text-lg font-semibold">Refeições Diárias</h3>
          <p class="mt-2 text-gray-600">Para que a sua rotina seja mais leve e prática.</p>
        </div>

        <!-- Menus Personalizados -->
        <div>
          <div class="w-32 h-32 mx-auto rounded-full bg-gray-200 flex items-center justify-center shadow-md cursor-pointer"
               onclick="openLightbox('menus')">
            <span class="text-gray-500">+</span>
          </div>
          <h3 class="mt-6 text-lg font-semibold">Menus Personalizados</h3>
          <p class="mt-2 text-gray-600">Cada prato é adaptado ao seu gosto e estilo de vida.</p>
        </div>

        <!-- Eventos -->
        <div>
          <div class="w-32 h-32 mx-auto rounded-full bg-gray-200 flex items-center justify-center shadow-md cursor-pointer"
               onclick="openLightbox('eventos')">
            <span class="text-gray-500">+</span>
          </div>
          <h3 class="mt-6 text-lg font-semibold">Eventos</h3>
          <p class="mt-2 text-gray-600">Momentos únicos que merecem pratos especiais.</p>
        </div>

      </div>
    </div>
  </section>


  <!-- LIGHTBOX -->
  <div id="lightbox" class="fixed inset-0 bg-black/90 hidden items-center justify-center z-50">
    <button type="button" aria-label="Fechar" onclick="closeLightbox()" class="absolute top-4 right-6 text-white text-3xl">×</button>
    <img id="lightboxImg" class="max-h-[85vh] max-w-[90vw] rounded-lg shadow-lg" src="">
  </div>


  <!-- RESERVA (Atualizado) -->
  <section id="reserva" class="py-20 max-w-4xl mx-auto text-center fade-up" style="animation-delay: 0.5s;">
    <h2>Reserve a Sua Experiência</h2>

    <form name="reserva" method="post" data-netlify="true" class="grid gap-4 max-w-md mx-auto mt-8">
      <input type="hidden" name="form-name" value="reserva">

      <input type="text" name="nome" placeholder="O seu nome" required class="border p-3 rounded">
      <input type="email" name="email" placeholder="O seu e-mail" required class="border p-3 rounded">
      <input type="tel" name="telefone" placeholder="O seu contacto" required class="border p-3 rounded">

      <input type="text" name="morada" placeholder="Morada do serviço" required class="border p-3 rounded">
      <select name="localidade" id="localidade" required class="border p-3 rounded w-full">
  <option value="" selected disabled>Escolha…</option>
  <!-- AML Norte/Oeste -->
  <option>Lisboa</option>
  <option>Amadora</option>
  <option>Oeiras</option>
  <option>Cascais</option>
  <option>Odivelas</option>
  <option>Loures</option>
  <option>Sintra</option>
  <option>Mafra</option>
  <!-- AML Sul -->
  <option>Almada</option>
  <option>Seixal</option>
  <option>Barreiro</option>
  <option>Moita</option>
  <option>Montijo</option>
  <option>Alcochete</option>
  <option>Sesimbra</option>
  <option>Palmela</option>
  <option>Setúbal</option>
</select>

      <label class="text-left mt-2">Data do evento</label>
      <input id="dataEvento" type="date" name="data" required class="border p-3 rounded">

      <div id="horaWrapper" class="mt-2 w-full text-left">
        <label id="labelHoraSelect" class="block">Horário (Seg–Sex)</label>
        <select id="horaSelect" name="horario_semana" class="border p-3 rounded w-full" required disabled>
          <option value="" selected>Escolha uma data primeiro</option>
        </select>

        <label id="labelHoraLivre" class="block hidden mt-3">Hora (Sáb/Dom – livre)</label>
        <input id="horaLivre" type="time" name="hora_fimsemana" class="border p-3 rounded w-full hidden">
      </div>

      <label class="text-left mt-2">Descrição do evento</label>
      <textarea name="mensagem" rows="4" placeholder="Nº de pessoas, preferências, notas…" class="border p-3 rounded"></textarea>

      <button type="submit" class="bg-[#cfa86e] text-black px-6 py-3 rounded-full text-lg hover:scale-105 hover:shadow-lg transition">
        Enviar Pedido
      </button>
      <!-- Botão WhatsApp com pré-preenchimento -->
      <a id="waBtn" href="#" target="_blank"
         class="mt-3 inline-block bg-[#25D366] text-white px-6 py-3 rounded-full text-lg hover:brightness-110 transition">
        Enviar por WhatsApp
      </a>
      <p class="text-xs text-gray-500 mt-2">O WhatsApp abre já com os dados do pedido. Confirme antes de enviar.</p>

    </form>
  </section>

  <!-- Rodapé -->
  <footer class="bg-black text-white py-6 text-center">
    <p>&copy; 2025 7Maison | Lisboa</p>
  </footer>

  <!-- Botão WhatsApp -->
  <a href="https://wa.me/351XXXXXXXXX" class="fixed bottom-6 right-6 bg-green-500 text-white px-4 py-3 rounded-full shadow-lg hover:bg-green-600 transition">WhatsApp</a>

  
  <script>
    // animações existentes
    const faders = document.querySelectorAll('.fade-up');
    const options = { threshold: 0.1 };
    const appearOnScroll = new IntersectionObserver(function(entries, observer) {
      entries.forEach(entry => {
        if (!entry.isIntersecting) return;
        entry.target.style.opacity = 1;
        entry.target.style.transform = 'translateY(0)';
        observer.unobserve(entry.target);
      });
    }, options);
    faders.forEach(fader => appearOnScroll.observe(fader));

    // ---- Lógica de reservas (semana + fim de semana + extra compras) ----
    const inputData     = document.getElementById('dataEvento');
    const selHora       = document.getElementById('horaSelect');
    const lblSel        = document.getElementById('labelHoraSelect');

    const weWrapper     = document.getElementById('weWrapper');
    const horaInicioWE  = document.getElementById('horaInicioWE');
    const duracaoWE     = document.getElementById('duracaoWE');
    const fimWE         = document.getElementById('fimWE');

    const comprasWrap   = document.getElementById('comprasWrapper');

    // impedir datas passadas
    (function setMinHoje(){
      const hoje = new Date();
      const yyyy = hoje.getFullYear();
      const mm = String(hoje.getMonth()+1).padStart(2,'0');
      const dd = String(hoje.getDate()).padStart(2,'0');
      inputData.min = `${yyyy}-${mm}-${dd}`;
    })();

    function eFimDeSemana(dateStr) {
      const d = new Date(dateStr + 'T00:00:00');
      const dia = d.getDay(); // 0=Dom, 6=Sáb
      return dia === 0 || dia === 6;
    }

    function preencherBlocosFixos() {
      selHora.innerHTML = '';
      const blocos = [
        {label: 'Manhã • 08h00–12h00', value: '08:00-12:00'},
        {label: 'Tarde • 16h00–20h00', value: '16:00-20:00'}
      ];
      blocos.forEach(b => {
        const o = document.createElement('option');
        o.value = b.value;
        o.textContent = b.label;
        selHora.appendChild(o);
      });
      selHora.disabled = false;
      selHora.value = '';
    }

    function minutos(hhmm){
      const [h,m] = (hhmm || '00:00').split(':').map(Number);
      return (h*60)+(m||0);
    }
    function hhmm(mins){
      const m = Math.max(0, mins);
      const h = String(Math.floor(m/60)).padStart(2,'0');
      const mi = String(m%60).padStart(2,'0');
      return `${h}:${mi}`;
    }

    function validarFimDeSemana(){
      fimWE.textContent = '';
      if (!horaInicioWE) return;
      horaInicioWE.setCustomValidity('');

      const h = horaInicioWE.value;
      const dur = parseInt(duracaoWE?.value || '0', 10);
      if(!h || !dur) return;

      const inicio = minutos(h);
      const fim    = inicio + dur*60;

      const LIMITE = 24*60; // até 00:00
      if(fim > LIMITE){
        horaInicioWE.setCustomValidity('A duração escolhida passa da meia-noite. Reduza as horas ou antecipe o início.');
        fimWE.textContent = '⚠️ Termina depois das 00:00 — ajuste início ou horas.';
      } else {
        horaInicioWE.setCustomValidity('');
        fimWE.textContent = `Termina às ${hhmm(fim)}.`;
      }
    }

    function atualizarExtraCompras(){
      if(!comprasWrap) return;
      comprasWrap.classList.add('hidden');
      if (!inputData.value) return;

      if (eFimDeSemana(inputData.value)) {
        // Fim de semana → mostrar sempre extra compras
        comprasWrap.classList.remove('hidden');
      } else {
        // Dias úteis → só quando 16–20 está selecionado
        if (!selHora.classList.contains('hidden') && selHora.value === '16:00-20:00'){
          comprasWrap.classList.remove('hidden');
        }
      }
    }

    inputData.addEventListener('change', () => {
      if (!inputData.value) return;

      if (eFimDeSemana(inputData.value)) {
        // Fim-de-semana: início + nº de horas
        selHora.classList.add('hidden');
        lblSel.classList.add('hidden');
        selHora.required = false;

        weWrapper.classList.remove('hidden');
        if (horaInicioWE) horaInicioWE.value = '10:00';
        if (duracaoWE) duracaoWE.value = 4;
        validarFimDeSemana();

        atualizarExtraCompras();
      } else {
        // Dias úteis: blocos fixos
        weWrapper.classList.add('hidden');

        selHora.classList.remove('hidden');
        lblSel.classList.remove('hidden');
        selHora.required = true;
        preencherBlocosFixos();

        atualizarExtraCompras();
      }
    });

    selHora.addEventListener('change', atualizarExtraCompras);
    horaInicioWE?.addEventListener('input', validarFimDeSemana);
    duracaoWE?.addEventListener('input', validarFimDeSemana);
  </script>



  <script>
    // Listas de fotos por categoria (exemplos comentados)
    const galerias = {
      refeicoes: [
        // "images/refeicoes1.jpg",
        // "images/refeicoes2.jpg",
        // "images/refeicoes3.jpg"
      ],
      menus: [
        // "images/menu1.jpg",
        // "images/menu2.jpg",
        // "images/menu3.jpg"
      ],
      eventos: [
        // "images/evento1.jpg",
        // "images/evento2.jpg",
        // "images/evento3.jpg"
      ]
    };

    let fotos = [], idx = 0;
    const lb = document.getElementById('lightbox');
    const lbImg = document.getElementById('lightboxImg');

    document.querySelectorAll('[data-gallery]').forEach(el=>{
      el.addEventListener('click', e=>{
        e.preventDefault();
        const gal = el.getAttribute('data-gallery');
        fotos = galerias[gal] || [];
        if (!fotos.length) return;
        idx = 0;
        openLightbox();
      });
    });

    function openLightbox(){ lb.classList.remove('hidden'); lbImg.src=fotos[idx]; }
    function closeLightbox(){ lb.classList.add('hidden'); }

    document.addEventListener('keydown', e=>{
      if(lb.classList.contains('hidden')) return;
      if(e.key==='ArrowRight'){ idx=(idx+1)%fotos.length; lbImg.src=fotos[idx]; }
      if(e.key==='ArrowLeft'){ idx=(idx-1+fotos.length)%fotos.length; lbImg.src=fotos[idx]; }
      if(e.key==='Escape'){ closeLightbox(); }
    });

    lb.addEventListener('click', e=>{ if(e.target===lb) closeLightbox(); });
  </script>
<script>
    // ---- WhatsApp: compor mensagem conforme semana/fim-de-semana ----
    (function(){
      const waBtn = document.getElementById('waBtn');
      const form = document.querySelector('form[name="reserva"]');
      if (!waBtn || !form) return;

      function get(name){
        const el = form.querySelector(`[name="${name}"]`);
        return (el && el.value ? String(el.value).trim() : '');
      }

      function fimCalculadoWE(){
        const t = (document.getElementById('fimWE')?.textContent || '').trim();
        const m = t.match(/(\d{2}:\d{2})/);
        if (m) return m[1];
        const start = (typeof minutos === 'function' ? minutos(document.getElementById('horaInicioWE')?.value || '10:00') : 600);
        const dur = parseInt(document.getElementById('duracaoWE')?.value || '4', 10);
        const endm = start + (dur*60);
        if (typeof hhmm === 'function') return hhmm(endm);
        const h = String(Math.floor(endm/60)).padStart(2,'0');
        const mi = String(endm%60).padStart(2,'0');
        return `${h}:${mi}`;
      }

      waBtn.addEventListener('click', function(e){
        e.preventDefault();
        const data = document.getElementById('dataEvento')?.value || '';

        const nome  = get('nome');
        const email = get('email');
        const tel   = get('telefone');
        const mor   = get('morada');
        const loc   = get('localidade');
        const msg   = get('mensagem');

        let horarioLinha = '';
        if (data && typeof eFimDeSemana === 'function' && eFimDeSemana(data)) {
          const hIni = document.getElementById('horaInicioWE')?.value || '10:00';
          const dur  = document.getElementById('duracaoWE')?.value || '4';
          const hFim = fimCalculadoWE();
          horarioLinha = `Horário: ${hIni}–${hFim} (${dur}h)`;
        } else {
          const bloco = document.getElementById('horaSelect')?.value || '';
          horarioLinha = `Horário: ${bloco}`;
        }

        const comprasChecked = document.getElementById('comprasCheck')?.checked;
        const comprasLinha = comprasChecked ? 'Extra compras: Sim (+15€)' : null;

        const linhas = [
          '*Pedido de Reserva*',
          `Nome: ${nome}`,
          `Email: ${email}`,
          `Contacto: ${tel}`,
          `Localidade: ${loc}`,
          mor ? `Morada: ${mor}` : null,
          `Data: ${data}`,
          horarioLinha,
          comprasLinha,
          msg ? `Notas: ${msg}` : null
        ].filter(Boolean).join('%0A');

        const numero = '351XXXXXXXXX'; // <- coloca aqui o teu número
        const url = `https://wa.me/${numero}?text=${linhas}`;
        window.open(url, '_blank');
      });
    })();
</script></body>
</html>
